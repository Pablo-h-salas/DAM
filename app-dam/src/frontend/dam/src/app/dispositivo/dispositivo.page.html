<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Detalles del dispositivo</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <div *ngIf="dispositivos">
    <ion-card class="device-card">
      <ion-card-header>
        <ion-card-title class="card-title">{{ dispositivos.nombre }}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div class="device-info">
          <p><strong>Ubicaci√≥n:</strong> {{ dispositivos.ubicacion }}</p>
          <p><strong>Electrovalvula ID:</strong> {{ dispositivos.electrovalvulaId }}</p>
          <p><strong>Humedad:</strong> {{valorRandom }}</p>
        </div>
        <div class="toggle-container">
          <p><strong>Riego:</strong></p>
          <!-- Toggle para activar/desactivar el riego -->
          <ion-toggle [(ngModel)]="estadoRiego"
            (ionChange)="accionarElectrovalvula(dispositivos.electrovalvulaId, estadoRiego)">
          </ion-toggle>
        </div>
        <div>
          <button class="custom-button" routerLink="/dispositivos/{{dispositivos.dispositivoId}}/mediciones"
            routerLinkActive="active" ariaCurrentWhenActive="page">
            ver mediciones de {{ dispositivos.nombre }}
          </button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <div *ngIf="!dispositivos">
    <ion-text>
      <h2>Cargando dispositivo...</h2>
    </ion-text>
  </div>
</ion-content>